# –ó–∞–¥–∞–Ω–∏—è —Å  1 –Ω–µ–¥–µ–ª–∏ 4 –°–ø—Ä–∏–Ω—Ç–∞ (–ß–µ—Ç–≤–µ—Ä–≥) + –æ—Ç–≤–µ—Ç—ã

- [–ó–∞–¥–∞—á–∞ 1](#task1)
- [–ó–∞–¥–∞—á–∞ 2](#task2)
- [–ó–∞–¥–∞—á–∞ 3](#task3)
- [–ó–∞–¥–∞—á–∞ 4](#task4)
- [–ó–∞–¥–∞—á–∞ 5](#task5)
- [–ó–∞–¥–∞—á–∞ 6](#task6)
- [–ó–∞–¥–∞—á–∞ 7](#task7)
- [–ó–∞–¥–∞—á–∞ 8](#task8)

## <a id='task1'> –ó–∞–¥–∞—á–∞ 1 </a>

> –ü—Ä–∏ –Ω–∞–ø–∏—Å–∞–Ω–∏–∏ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏ –ø–æ –Ω–µ–≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –±—ã–ª–æ –¥–æ–ø—É—â–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ—à–∏–±–æ–∫.
> –ù–∞–ø–∏—à–∏—Ç–µ —á–µ—Ä–µ–∑ –ø—Ä–æ–±–µ–ª –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞ –≤ TodoType, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –±—ã–ª–∞ –¥–æ–ø—É—â–µ–Ω–∞ –æ—à–∏–±–∫–∞.
> Debugger / network / –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤–∞–º –≤ –ø–æ–º–æ—â—å
> **–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞: –ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞: id status isDone**

```
import axios from 'axios'
import React, { useEffect, useState } from 'react'
import ReactDOM from 'react-dom/client';

// Types
type TodoType = {
  id: string;
  tile: string;
  order: number;
  createdAt: string;
  updatedAt: string;
  complete: boolean;
}


// Api
const instance = axios.create({baseURL: 'https://exams-frontend.kimitsu.it-incubator.ru/api/'})

const todosAPI = {
  getTodos() {
    return instance.get<TodoType[]>('todos')
  },
}


// App
const App = () => {

  const [todos, setTodos] = useState<TodoType[]>([])

  useEffect(() => {
    todosAPI.getTodos().then((res) => setTodos(res.data))
  }, [])

  return (
    <>
      <h2>‚úÖ –°–ø–∏—Å–æ–∫ —Ç—É–¥—É–ª–∏—Å—Ç–æ–≤</h2>
      {
        todos.map((t) => {
          return (
            <div style={t.complete ? {color: 'grey'} : {}} key={t.id}>
              <input type="checkbox" checked={t.complete}/>
              <b>–û–ø–∏—Å–∞–Ω–∏–µ</b>: {t.tile}
            </div>
          )
        })
      }
    </>
  )
}


const root = ReactDOM.createRoot(document.getElementById('root') as HTMLElement);
root.render(<App/>)
```

> ***–û—Ç–≤–µ—Ç: title completed***

## <a id='task2'> –ó–∞–¥–∞—á–∞ 2 </a>

> –ù–∞–ø–∏—à–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è.
> –¢–∏–ø–∏–∑–∞—Ü–∏—é –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –æ—Ç–≤–µ—Ç–µ —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ –º–æ–∂–Ω–æ –∏ —É–∫–∞–∑–∞—Ç—å (–≤ –æ—Ç–≤–µ—Ç–∞—Ö —É—á—Ç–µ–Ω—ã –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞).
> –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é —Å—Ç—Ä–æ–∫–∏ –Ω–∞–ø–∏—à–∏—Ç–µ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Ç–≤–µ—Ç–∞.
>
>**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞: return Promise.resolve(payload)**

```
import axios from 'axios'
import React, { ChangeEvent, useEffect, useState } from 'react'
import ReactDOM from 'react-dom/client';

// Types
type CommentType = {
  postId: string
  id: string
  name: string
  email: string
  body: string
}

// Api
const instance = axios.create({baseURL: 'https://exams-frontend.kimitsu.it-incubator.ru/api/'})

const commentsAPI = {
  getComments() {
    return instance.get<CommentType[]>('comments')
  },
  createComment() {
    const payload = {body: '–≠—Ç–æ –ø—Ä–æ—Å—Ç–æ –∑–∞–≥–ª—É—à–∫–∞. Backend —Å–∞–º —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∏ –≤–µ—Ä–Ω–µ—Ç –µ–≥–æ –≤–∞–º'}
    // Promise.resolve() —Å—Ç–æ–∏—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–∞–≥–ª—É—à–∫–∏, —á—Ç–æ–±—ã TS –Ω–µ —Ä—É–≥–∞–ª—Å—è –∏ –∫–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–ª—Å—è
    // Promise.resolve() –Ω—É–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –∏ –Ω–∞–ø–∏—Å–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
    return Promise.resolve()
  }
}


// App
export const App = () => {

  const [comments, setComments] = useState<CommentType[]>([])

  useEffect(() => {
    commentsAPI.getComments()
      .then((res) => {
        setComments(res.data)
      })
  }, [])

  const createPostHandler = () => {
    commentsAPI.createComment()
      .then((res: any) => {
        const newComment = res.data
        setComments([newComment, ...comments,])
      })
  };

  return (
    <>
      <h1>üìù –°–ø–∏—Å–æ–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤</h1>
      <div style={{marginBottom: '15px'}}>
        <button style={{marginLeft: '15px'}}
                onClick={() => createPostHandler()}>
          –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
        </button>
      </div>

      {
        comments.map(c => {
          return <div key={c.id}><b>Comment</b>: {c.body} </div>
        })
      }
    </>
  )
}

const root = ReactDOM.createRoot(document.getElementById('root') as HTMLElement);
root.render(<App/>)


```

> ***–û—Ç–≤–µ—Ç:return instance.post<CommentType>('comments', payload)  ‚úÖ***>

## <a id='task3'> –ó–∞–¥–∞—á–∞ 3</a>

> –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É "–ò–∑–º–µ–Ω–∏—Ç—å title" title –¥–æ–ª–∂–µ–Ω –æ–±–Ω–æ–≤–∏—Ç—å—Å—è,
> –Ω–æ –∏–∑-–∑–∞ –Ω–µ–≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –±—ã–ª–∞ –¥–æ–ø—É—â–µ–Ω–∞ –æ—à–∏–±–∫–∞ –∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç
>
> –ù–∞–π–¥–∏—Ç–µ –∏ –∏—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫—É. <br/>
> –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é —Å—Ç—Ä–æ–∫–∏ –Ω–∞–ø–∏—à–∏—Ç–µ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Ç–≤–µ—Ç–∞.<br/>
>
>**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:  photosAPI.updatePhotoTitle(id, title)**

```
import axios from 'axios'
import React, { useEffect, useState } from 'react'
import ReactDOM from 'react-dom/client';

// Types
type PhotoType = {
  albumId: string
  id: string
  title: string
  url: string
}

type PayloadType = {
  title: string
  url?: string
}

// Api
const instance = axios.create({baseURL: 'https://exams-frontend.kimitsu.it-incubator.ru/api/'})

const photoId = '637df6dc99fdc52af974a517'

const photosAPI = {
  getPhoto() {
    return instance.get<PhotoType>(`photos/${photoId}`)
  },
  updatePhoto(payload: PayloadType) {
    return instance.put<PhotoType>(`photos/${photoId}`, {payload})
  }
}


// App
export const App = () => {

  const [photo, setPhoto] = useState<PhotoType | null>(null)

  useEffect(() => {
    photosAPI.getPhoto()
      .then((res) => {
        setPhoto(res.data)
      })
  }, [])

  const updatePhotoHandler = () => {
    // ‚ùó title –∏ url —É–∫–∞–∑–∞–Ω—ã –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–∞–≥–ª—É—à–∫–∏. Server —Å–∞–º —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–π title
    const payload = {
      title: '–ù–æ–≤—ã–π title',
      url: 'data:image/png;base64,iVBORw0FAKEADDRESSnwMZAABJRUrkJggg=='
    }
    photosAPI.updatePhoto(payload)
      .then((res) => {
        setPhoto(res.data)
      })
  };

  return (
    <>
      <h1>üì∏ –§–æ—Ç–æ</h1>
      <div>
        <div style={{marginBottom: '15px'}}>
          <h1>title: {photo?.title}</h1>
          <div><img src={photo?.url} alt=""/></div>
        </div>
        <button style={{marginLeft: '15px'}}
                onClick={updatePhotoHandler}>
          –ò–∑–º–µ–Ω–∏—Ç—å title
        </button>
      </div>
    </>
  )
}


const root = ReactDOM.createRoot(document.getElementById('root') as HTMLElement);
root.render(<App/>)

```

> ***–û—Ç–≤–µ—Ç: `return instance.put<PhotoType>(`photos/${photoId}`, payload)`***

## <a id='task4'> –ó–∞–¥–∞—á–∞ 4</a>

> –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º –¥–æ–ª–∂–Ω—ã –ø–æ–¥–≥—Ä—É–∂–∞—Ç—å—Å—è –Ω–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏.
> –û–¥–Ω–∞–∫–æ –≤ –∫–æ–¥–µ –¥–æ–ø—É—â–µ–Ω–∞ –æ—à–∏–±–∫–∞ –∏ –≤—Å–µ–≥–¥–∞ –ø–æ–¥–≥—Ä—É–∂–∞—é—Ç—Å—è –æ–¥–Ω–∏ –∏ —Ç–µ–∂–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏.
> –ó–∞–¥–∞—á–∞: –Ω–∞–π—Ç–∏ —ç—Ç—É –æ—à–∏–±–∫—É, –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é —Å—Ç—Ä–æ–∫–∏ –Ω–∞–ø–∏—Å–∞—Ç—å –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Ç–≤–µ—Ç–∞.
>
>**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞: const [currentPage, setCurrentPage] = useState(page)**

```
import axios from 'axios'
import React, { useEffect, useState } from 'react'
import ReactDOM from 'react-dom/client'

type UserType = {
  id: string;
  name: string;
  age: number;
}

// API
const instance = axios.create({baseURL: 'https://exams-frontend.kimitsu.it-incubator.ru/api/'})

const api = {
  getUsers(pageNumber: number) {
    return instance.get(`users?pageSize=${3}&pageNumber${pageNumber}`)
  },
}

// App
const buttons = [
  {id: 1, title: '1'},
  {id: 2, title: '2'},
  {id: 3, title: '3'},
]

export const App = () => {

  const [users, setUsers] = useState<UserType[]>([])
  const [currentPage, setCurrentPage] = useState(1)

  useEffect(() => {
    api.getUsers(currentPage)
      .then((res: any) => {
        setUsers(res.data.items)
      })
  }, [currentPage])

  const setPageHandler = (page: number) => {
    setCurrentPage(page)
  };

  return (
    <>
      <h1>üë™ –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h1>
      {
        users.map(u => {
          return <div style={{marginBottom: '25px'}} key={u.id}>
            <p><b>name</b>: {u.name}</p>
            <p><b>age</b>: {u.age}</p>
          </div>
        })
      }

      {
        buttons.map(b => {
          return (
            <button key={b.id}
                    style={b.id === currentPage ? {backgroundColor: 'lightblue'} : {}}
                    onClick={() => setPageHandler(b.id)}>
              {b.title}
            </button>
          )
        })
      }
    </>
  )
}


const root = ReactDOM.createRoot(document.getElementById('root') as HTMLElement);
root.render(<App/>)

```

> ***–û—Ç–≤–µ—Ç: return instance.get(`users?pageSize=${3}&pageNumber=${pageNumber}`)  ‚úÖ***

## <a id='task5'> –ó–∞–¥–∞—á–∞ 5</a>

> –ù–∞–ø–∏—à–∏—Ç–µ –∑–∞–ø—Ä–æ—Å –Ω–∞ —Å–µ—Ä–≤–µ—Ä –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –ø–æ—Å—Ç–æ–≤
> –¢–∏–ø–∏–∑–∞—Ü–∏—é –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –æ—Ç–≤–µ—Ç–µ —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ, –Ω–æ –º–æ–∂–Ω–æ –∏ —É–∫–∞–∑–∞—Ç—å (–≤ –æ—Ç–≤–µ—Ç–∞—Ö —É—á—Ç–µ–Ω—ã –æ–±–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞).
>
> –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é —Å—Ç—Ä–æ–∫–∏ –Ω–∞–ø–∏—à–∏—Ç–µ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Ç–≤–µ—Ç–∞.
>
>**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞: return Promise.resolve()**

```
import axios from 'axios'
import React, { useEffect, useState } from 'react'
import ReactDOM from 'react-dom/client';

// Types
type PostType = {
  id: string
  body: string
  title: string
  userId: string
}


// Api
const instance = axios.create({baseURL: 'https://exams-frontend.kimitsu.it-incubator.ru/api/'})

const postsAPI = {
  getPosts() {
    // Promise.resolve() —Å—Ç–æ–∏—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–∞–≥–ª—É—à–∫–∏, —á—Ç–æ–±—ã TS –Ω–µ —Ä—É–≥–∞–ª—Å—è –∏ –∫–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–ª—Å—è
    // Promise.resolve() –Ω—É–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å –∏ –Ω–∞–ø–∏—Å–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ—Å—Ç–æ–≤
    return Promise.resolve()
  },
}


// App
export const App = () => {

  const [posts, setPosts] = useState<PostType[]>([])

  useEffect(() => {
    postsAPI.getPosts()
      .then((res: any) => {
        setPosts(res.data)
      })
  }, [])


  return (
    <>
      <h1>üìú –°–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–æ–≤</h1>
      {
        posts.length
          ? posts.map(p => {
            return <div key={p.id}><b>title</b>: {p.title}</div>
          })
          : <h2>–ü–æ—Å—Ç–æ–≤ –Ω–µ—Ç—É üò•</h2>
      }
    </>
  )
}


const root = ReactDOM.createRoot(document.getElementById('root') as HTMLElement);
root.render(<App/>)
```

> ***–û—Ç–≤–µ—Ç:return instance.get<PostType[]>('posts')***

## <a id='task6'> –ó–∞–¥–∞—á–∞ 6</a>

> –°—Ç—É–¥–µ–Ω—Ç –ø–æ –Ω–µ–æ–ø—ã—Ç–Ω–æ—Å—Ç–∏ –¥–æ–ø—É—Å—Ç–∏–ª –æ–¥–Ω—É –º–∞–ª–µ–Ω—å–∫—É—é –æ—à–∏–±–∫—É, –Ω–æ –∏–∑-–∑–∞ –Ω–µ–µ –æ–Ω –Ω–µ –º–æ–∂–µ—Ç –≤—ã–≤–µ—Å—Ç–∏ –Ω–∞ —ç–∫—Ä–∞–Ω —Ç—É–¥—É–ª–∏—Å—Ç.
>
> –ù–∞–π–¥–∏—Ç–µ –æ—à–∏–±–∫—É –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é —Å—Ç—Ä–æ–∫–∏ –∫–æ–¥–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Ç–≤–µ—Ç–∞
>
> P.S. –≠—Ç–∞ –æ—à–∏–±–∫–∞ –∏–∑ —Ä–µ–∞–ª—å–Ω–æ–π –∂–∏–∑–Ω–∏, —Å—Ç—É–¥–µ–Ω—Ç—ã —á–∞—Å—Ç–æ –æ—à–∏–±–∞—é—Ç—Å—è –ø–æ–¥–æ–±–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –∏ –Ω–µ –º–æ–≥—É—Ç –ø–æ–Ω—è—Ç—å –≤ —á–µ–º –¥–µ–ª–æ.
>
>**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:  .then((res: any) => setTodo(res.data.data))**

```
import axios from 'axios'
import React, { useEffect, useState } from 'react'
import ReactDOM from 'react-dom/client';

// Types
type TodoType = {
  id: string;
  title: string;
  order: number;
  createdAt: string;
  updatedAt: string;
  completed: boolean;
}


// Api
const instance = axios.create({baseURL: 'https://exams-frontend.kimitsu.it-incubator.ru/api/'})

const todosAPI = {
  getTodo(todoId: string) {
    return instance.get<TodoType>(`todos/ ${todoId}`)
  }
}


// App
export const App = () => {

  const [todo, setTodo] = useState<TodoType | null>(null)
  const [error, setError] = useState<string>('')

  useEffect(() => {
    const todoId = "637cb9342f24ad82bcb07d8d"
    todosAPI.getTodo(todoId)
      .then((res: any) => setTodo(res.data))
      .catch(e => {
        setError('–û—à–∏–±–∫–∞ üò∞. –ê–Ω–∞–ª–∏–∑–∏—Ä—É–π network üòâ')
      })
  }, [])


  return (
    <>
      <h2>‚úÖ –¢—É–¥—É–ª–∏—Å—Ç</h2>
      {
        !!todo
          ? <div>
            <div style={todo?.completed ? {color: 'grey'} : {}} key={todo?.id}>
              <input type="checkbox" checked={todo?.completed}/>
              <b>–û–ø–∏—Å–∞–Ω–∏–µ</b>: {todo?.title}
            </div>
            <h2>–¢–∞–∫ –¥–µ—Ä–∂–∞—Ç—å. –¢—ã —Å–ø—Ä–∞–≤–∏–ª—Å—è üöÄ</h2>
          </div>
          : <h2 style={{ color: 'red' }}>{error}</h2>
      }
    </>
  )
}


const root = ReactDOM.createRoot(document.getElementById('root') as HTMLElement);
root.render(<App/>)

```

> ***–û—Ç–≤–µ—Ç:return instance.get<TodoType>(`todos/${todoId}`)***

## <a id='task7'> –ó–∞–¥–∞—á–∞ 7</a>

> –ü–æ—á–µ–º—É –Ω–µ —É–¥–∞–ª—è–µ—Ç—Å—è post –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –Ω–∞ –∫–Ω–æ–ø–∫—É —É–¥–∞–ª–µ–Ω–∏—è (—Ö) ?
> –ù–∞–π–¥–∏—Ç–µ –æ—à–∏–±–∫—É –∏ –≤—Å—Ç–∞–≤—å—Ç–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—É—é —Å—Ç—Ä–æ–∫—É –∫–æ–¥–∞ –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Ç–≤–µ—Ç–∞
>
>**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞: return axios.delete**

```
import axios from 'axios'
import React, { useEffect, useState } from 'react'
import ReactDOM from 'react-dom/client';

// Types
type PostType = {
  body: string
  id: string
  title: string
  userId: string
}


// Api
const instance = axios.create({baseURL: 'https://exams-frontend.kimitsu.it-incubator.ru/api/'})

const postsAPI = {
  getPosts() {
    return instance.get<PostType[]>('posts')
  },
  deletePost(id: string) {
    return axios.delete<{ message: string }>(`posts/${id}`)
  }
}


// App
export const App = () => {

  const [posts, setPosts] = useState<PostType[]>([])

  useEffect(() => {
    postsAPI.getPosts()
      .then((res) => {
        setPosts(res.data)
      })
  }, [])

  const deletePostHandler = (id: string) => {
    postsAPI.deletePost(id)
      .then((res) => {
        const newPostsArr = posts.filter(p => p.id !== id)
        setPosts(newPostsArr)
      })
  };

  return (
    <>
      <h1>üìú –°–ø–∏—Å–æ–∫ –ø–æ—Å—Ç–æ–≤</h1>
      {posts.map(p => {
        return (
          <div key={p.id}>
            <b>title</b>: {p.title}
            <button style={{marginLeft: '15px'}}
                    onClick={() => deletePostHandler(p.id)}>
              x
            </button>
          </div>
        )
      })}
    </>
  )
}


const root = ReactDOM.createRoot(document.getElementById('root') as HTMLElement);
root.render(<App/>)
```

> ***–û—Ç–≤–µ—Ç:  ‚úÖ return instance.delete<{ message: string }>(`posts/${id}`)***

## <a id='task8'> –ó–∞–¥–∞—á–∞ 8</a>

>
> –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —ç–∫—Ä–∞–Ω–µ –≤—ã —É–≤–∏–¥–∏—Ç–µ 2 —Å–ø–∏—Å–∫–∞: Products –∏ Films.
>
> –° –Ω–∏–º–∏ –≤—Å–µ —Ö–æ—Ä–æ—à–æ, –Ω–æ –æ–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ç–∏–ø–∏–∑–∞—Ü–∏—é –æ—Ç–≤–µ—Ç–æ–≤ —Å —Å–µ—Ä–≤–µ—Ä–∞ ProductsResponseType –∏ FilmsResponseType.
>
> –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤ –Ω–∞ –ª–∏—Ü–æ.
>
> –í–∞—à–∞ –∑–∞–¥–∞—á–∞ –Ω–∞–ø–∏—Å–∞—Ç—å –¥–∂–µ–Ω–µ—Ä–∏–∫–æ–≤—ã–π —Ç–∏–ø CommonResponseType –∏ –∑–∞–º–µ–Ω–∏—Ç—å –∏–º –¥—É–±–ª–∏—Ä—É—é—â–∏–µ —Ç–∏–ø—ã.
>
> –û—á–µ—Ä–µ–¥–Ω–æ—Å—Ç—å —Å–≤–æ–π—Å—Ç–≤ –≤ —Ç–∏–ø–∞—Ö –º–µ–Ω—è—Ç—å –∑–∞–ø—Ä–µ—â–µ–Ω–æ (–ø–æ –ø—Ä–∏—á–∏–Ω–µ —á—Ç–æ –Ω–∞–º –±—É–¥–µ—Ç —Ç—è–∂–µ–ª–æ –ø–µ—Ä–µ–±—Ä–∞—Ç—å –≤—Å–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã :) )
>
> –ü–∞—Ä–∞–º–µ—Ç—Ä —Ç–∏–ø –Ω–∞–∑–æ–≤–∏—Ç–µ –±—É–∫–≤–æ–π T
>
>
>
> –í –∫–∞—á–µ—Å—Ç–≤–µ –æ—Ç–≤–µ—Ç–∞ –Ω—É–∂–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∏–π –¥–∂–µ–Ω–µ—Ä–∏–∫–æ–≤—ã–π —Ç–∏–ø CommonResponseType
>
>**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞: type CommonResponseType = {
total: T
messages: T[]
page: T
pageCount: T
data: T[]
}**

```
import axios from 'axios'
import React, { useEffect, useState } from 'react'
import ReactDOM from 'react-dom/client';

// TYPES
type ProductType = {
  id: string
  title: string
  description: string
  price: number
}

type FilmType = {
  id: number
  nameOriginal: string
  description: string
  ratingImdb: number
}

type ProductsResponseType = {
  total: number
  messages: string[]
  page: number
  pageCount: number
  data: ProductType[]
}

type FilmsResponseType = {
  total: number
  messages: string[]
  page: number
  pageCount: number
  data: FilmType[]
}

type CommonResponseType = {
  // your code
}

// Api
const instance = axios.create({baseURL: 'https://exams-frontend.kimitsu.it-incubator.ru/api/'})

const api = {
  getProducts() {
    return instance.get<ProductsResponseType>('products')
  },
  getFilms() {
    return instance.get<FilmsResponseType>('films')
  }
}


// App
const App = () => {
  return (
    <>
      <h1>üõí Products && üé¶ Films</h1>
      <div style={{display: 'flex', justifyContent: 'space-evenly'}}>
        <Products/>
        <Films/>
      </div>
    </>
  )
}

const Products = () => {

  const [products, setProducts] = useState<ProductType[]>([])

  useEffect(() => {
    api.getProducts()
      .then((res) => setProducts(res.data.data))
  }, [])

  return (
    <div style={{width: '45%'}}>
      <h2>üõí Products</h2>
      <div>
        {
          products.map(p => {
            return (
              <div key={p.id}>
                <b>{p.title}</b>
                <p>{p.description}</p>
                <p>üíµ {p.price} $</p>
              </div>
            )
          })
        }</div>
    </div>
  )
}

const Films = () => {

  const [films, setFilms] = useState<FilmType[]>([])

  useEffect(() => {
    api.getFilms()
      .then((res) => setFilms(res.data.data))
  }, [])

  return (
    <div style={{width: '45%'}}>
      <h2>üé¶ Films</h2>
      <div>
        {
          films.map(f => {
            return (
              <div key={f.id}>
                <b>{f.nameOriginal}</b>
                <p>{f.description}</p>
                <p>‚≠ê {f.ratingImdb} </p>
              </div>
            )
          })
        }</div>
    </div>
  )
}


const root = ReactDOM.createRoot(document.getElementById('root') as HTMLElement);
root.render(<App/>)

```

> ***–û—Ç–≤–µ—Ç: type CommonResponseType<T> = {
> total: number
> messages: string[]
> page: number
> pageCount: number
> data: T[]
> }***